class <%= class_name %>
  include Mongoid::Document
  <%- if has_timestamps? -%>
  include Mongoid::Timestamps<%= "::#{has_created_at_timestamp? ? "Created" : "Updated"}" unless has_both_timestamps?-%>
  <%- end %>

  <%- fields.each do |key, field| -%>
    <%- unless key == "id" -%>
  field :<%= field.name %>, type: <%= field.type %>
    <%- end -%>
  <%- end -%>
  
  <%- relations.sort{|a,b | a.name <=> b.name}.each do |relation| -%>
  <%= relation.name %> :<%= relation.association %>
  <%- end -%>

end